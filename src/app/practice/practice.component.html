<div class="practice-container">
  <h1>Тренировка: {{ songData?.title || 'Выбранная песня' }}</h1>
  
  <div class="stats-display">
    <div class="stat">
      <span class="label">Счет:</span>
      <span class="value">{{ score }}</span>
    </div>
    <div class="stat">
      <span class="label">Комбо:</span>
      <span class="value">{{ combo }}x (max {{ maxCombo }}x)</span>
    </div>
    <div class="stat">
      <span class="label">Точность:</span>
      <span class="value">{{ accuracy }}%</span>
    </div>
  </div>

  <div class="note-display">
    <div class="target-note">
      <h3>Целевая нота</h3>
      <div class="note" [class.active]="currentTargetNote">
          {{ currentTargetNote || '--' }}
      </div>
    </div>
    
    <div class="user-note">
      <h3>Ваша нота</h3>
      <div class="note" [class.correct]="isNoteCorrect()">
        {{ userPitch?.note || '--' }}
      </div>
      <div class="cents" *ngIf="userPitch?.cents !== undefined">
        Отклонение: {{ userPitch?.cents }} центов
      </div>
    </div>
  </div>

  <app-note-track 
    *ngIf="songData && isPlaying"
    [notes]="songData.notes"
    [bpm]="songData.bpm || 120"
    (noteHit)="handleNoteHit($event)">
  </app-note-track>

  <div class="controls">
    <button 
      *ngIf="!isPlaying"
      (click)="startPractice()"
      class="start-button">
      Начать тренировку
    </button>
    
    <button 
      *ngIf="isPlaying"
      (click)="stopPractice()"
      class="stop-button">
      Завершить
    </button>
  </div>
</div>